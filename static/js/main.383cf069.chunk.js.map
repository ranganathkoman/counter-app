{"version":3,"sources":["rudder/eventBuilder.js","components/navbar.jsx","rudder/locationBuilder.js","components/counter.jsx","components/counters.jsx","App.js","index.js"],"names":["DATAPLANE_URL","WRITE_KEY","eventTrack","eventName","payload","console","log","rudderanalytics","logLevel","integrations","All","CHARS","NavBar","_ref","totalCounters","react_default","a","createElement","className","aria-hidden","style","width","fontSize","onClick","user","newUser","string","ii","Math","floor","random","length","generateName","name","category","email","concat","logins","page","path","referrer","search","title","url","location","getPosition","position","latitude","coords","longitude","navigator","geolocation","getCurrentPosition","getLocation","Counter","getBadgeClasses","classes","_this","props","counter","value","formatCount","_this2","this","_this2$props$counter","id","label","product_id","onIncrement","_this2$props$counter2","onDecrement","disabled","onDelete","Component","Counters","_this$props","onReset","counters","onRestart","map","components_counter","key","App","state","handleIncrement","Object","toConsumableArray","index","indexOf","objectSpread","setState","handleDecrement","handleReset","c","handleDelete","counterId","filter","handleRestart","window","reload","navbar","components_counters","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.383cf069.chunk.js","sourcesContent":["import * as rudderanalytics from \"rudder-sdk-js\";\n\nconst DATAPLANE_URL = \"https://rudderstacocr.dataplane.rudderstack.com\";\nconst WRITE_KEY = \"2Dmwv0Hkb18ldTh6cs4S8zuRKEg\";\nconst RUDDER_USER_PSWD = 'Sep4h2t2$j8L';\nconst EXT_DB_URL = \"postgres://rangas_pg_user:GNTIQMzdrNgprauUcT7uC11lYjhrXKFf@dpg-cc2q4uha6gdkbg2er0d0-a.singapore-postgres.render.com/rangas_pg\";\n\nfunction rudderInitialize() {\n    rudderanalytics.ready(() => {console.log(\"we are all set!!!\")})\n    rudderanalytics.load(WRITE_KEY, DATAPLANE_URL,{logLevel: \"DEBUG\", integrations:{All:true}})\n};\n\nrudderInitialize();\n\nexport function eventIdentify(user) {\n\n    // var rudderanalytics = global.window.rudderanalytics = global.window.rudderanalytics || [];\n    // var analytics = global.window.analytics = global.window.analytics || [];\n    rudderanalytics.identify(user, \n        {\n            name: user,\n            category: \"Identify User\",\n            email: `${user}@gmail.com`,\n            logins: Math.floor(Math.random() * 100)\n        },\n        {\n            page: {\n              path: \"\",\n              referrer: \"\",\n              search: \"\",\n              title: \"\",\n              url: \"\",\n            },\n        },\n        () => {\n            console.log(\"in identify call\");\n          } \n        );\n}\n\nexport function eventPage() {\n        rudderanalytics.page(\n            \"Cart\",\n            \"Cart Viewed\",\n            {\n              path:  \"xcx123\",\n              referrer:  \"xc dd\",\n              search:  \"sefsefes\",\n              title:  \"edwewde\",\n              url:  \"wedwedewdew\"\n            },\n            {\n              context: {\n                ip:  \"0.0.0.0\"\n              },\n              anonymousId:  \"xx\"\n            }, \n            () => {console.log(\"in page call\");}\n          );\n    console.log(\"rudder page call\");\n}\n\nexport function eventTrack(eventName, payload) {\n    console.log(payload);\n    rudderanalytics.track(eventName, payload);\n}\n\n\n\n","import React from \"react\";\nimport {eventIdentify} from '../rudder/eventBuilder';\nconst CHARS = 'abcdefghijklmnopqrstuvwxyz1234567890';\n// Stateless Functional Component\n\nconst generateName = () => {  \n  let string = '';\n  for(var ii=0; ii<15; ii++){\n    string += CHARS[Math.floor(Math.random() * CHARS.length)];\n  }\n  return string;\n}\n\n\nconst NavBar = ({ totalCounters }) => {\n  return (\n    <nav className=\"navbar navbar-light\">\n      <div className=\"navbar-brand\">\n        <i className=\"fa fa-shopping-cart fa-lg m-2\" aria-hidden=\"true\" />\n        <span\n          className=\"badge badge-pill badge-info m-2\"\n          style={{ width: 50, fontSize: \"24px\" }}\n        >\n          {totalCounters}\n        </span>\n        Items\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => {\n            const newUser = generateName();\n            console.log(newUser);\n            eventIdentify(newUser);\n          }}\n        >\n          Switch\n        </button>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","export const location =  {};\n\nfunction getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getPosition);\n    } else {\n      return \"Geolocation is not supported by this browser.\";\n    }\n}\n\ngetLocation();\n\nfunction getPosition(position) {\n    location.latitude = position.coords.latitude;\n    location.longitude = position.coords.longitude;\n}\n\n","import React, { Component } from \"react\";\nimport {eventTrack} from '../rudder/eventBuilder.js';\nimport {location} from '../rudder/locationBuilder';\n\nclass Counter extends Component {\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"\">\n            <span style={{ fontSize: 24 }} className={this.getBadgeClasses()}>\n              {this.props.counter.name}\n            </span>\n          </div>\n          <div className=\"\">\n            <span style={{ fontSize: 24 }} className={this.getBadgeClasses()}>\n              {this.formatCount()}\n            </span>\n          </div>\n          <div className=\"\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                const {id, name, value } = this.props.counter;\n                if (location && location.latitude && location.longitude) {\n                  eventTrack(`${name}_added_to_cart`, {category: name,\n                    label: \"Add\",\n                    product_id: id, \n                    value: value+1,\n                    location: {\n                      latitude: location.latitude,\n                      longitude: location.longitude\n                    }\n                  });\n                } else {\n                  console.log(\"No position\");\n                }\n                \n                this.props.onIncrement(this.props.counter);\n              }}\n            >\n              <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-info m-2\"\n              onClick={() => {\n                const {id, name, value } = this.props.counter;\n                eventTrack(`${name}_removed_from_cart`, {category: name,\n                  label: \"Remove\",\n                  product_id: id, \n                  value: value - 1,\n                });\n                this.props.onDecrement(this.props.counter);\n              }}\n              disabled={this.props.counter.value === 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-minus-circle\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-danger\"\n              onClick={() => this.props.onDelete(this.props.counter.id)}\n            >\n              <i className=\"fa fa-trash-o\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  getBadgeClasses = () => {\n    let classes = \"badge m-2 badge-\";\n    classes += this.props.counter.value === 0 ? \"warning\" : \"primary\";\n    return classes;\n  };\n\n  formatCount = () => {\n    const { value } = this.props.counter;\n    return value;\n  };\n}\n\nexport default Counter;\n","import React, { Component } from \"react\";\nimport Counter from \"./counter\";\n\nclass Counters extends Component {\n  render() {\n    const { onReset, onIncrement, onDelete, onDecrement, counters, onRestart } =\n      this.props;\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=''>\n            <button\n              className=\"btn btn-success m-2\"\n              onClick={onReset}\n              disabled={counters.length === 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-primary m-2\"\n              onClick={onRestart}\n              disabled={counters.length !== 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-recycle\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n        {counters.map((counter) => (\n          <Counter\n            key={counter.id}\n            counter={counter}\n            onIncrement={onIncrement}\n            onDecrement={onDecrement}\n            onDelete={onDelete}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Counters;\n","import React, { Component } from \"react\";\nimport NavBar from \"./components/navbar\";\nimport Counters from \"./components/counters\";\n\nclass App extends Component {\n  state = {\n    counters: [\n      { id: 1, value: 0, name: \"Book\" },\n      { id: 2, value: 0, name: \"Watch\" },\n      { id: 3, value: 0, name: \"Food\" },\n      { id: 4, value: 0, name: \"Drink\" },\n      { id: 5, value: 0, name: \"Phone\" }\n    ],\n  };\n\n  handleIncrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value++;\n    this.setState({ counters });\n  };\n\n  handleDecrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value--;\n    this.setState({ counters });\n  };\n\n  handleReset = () => {\n    const counters = this.state.counters.map((c) => {\n      c.value = 0;\n      return c;\n    });\n    this.setState({ counters });\n  };\n\n  handleDelete = (counterId) => {\n    const counters = this.state.counters.filter((c) => c.id !== counterId);\n    this.setState({ counters });\n  };\n\n  handleRestart = () => {\n    window.location.reload();\n  };\n\n  render() {\n    return (\n      <div className=\"main__wrap\">\n        <main className=\"container\">\n          <div className=\"card__box\">\n            <NavBar\n              totalCounters={\n                this.state.counters.filter((c) => c.value > 0).length\n              }\n            />\n            <Counters\n              counters={this.state.counters}\n              onReset={this.handleReset}\n              onIncrement={this.handleIncrement}\n              onDecrement={this.handleDecrement}\n              onDelete={this.handleDelete}\n              onRestart={this.handleRestart}\n            />\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}