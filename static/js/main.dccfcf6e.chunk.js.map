{"version":3,"sources":["rudder/eventBuilder.js","components/navbar.jsx","rudder/locationBuilder.js","components/counter.jsx","components/counters.jsx","App.js","index.js"],"names":["DATAPLANE_URL","WRITE_KEY","eventTrack","eventName","payload","console","log","rudderanalytics","logLevel","integrations","All","CHARS","NavBar","_ref","totalCounters","react_default","a","createElement","className","aria-hidden","style","width","fontSize","onClick","user","newUser","string","ii","Math","floor","random","length","generateName","name","category","email","concat","logins","page","path","referrer","search","title","url","location","getPosition","position","latitude","coords","longitude","navigator","geolocation","getCurrentPosition","getLocation","Counter","getBadgeClasses","classes","_this","props","counter","value","formatCount","_this2","this","_this2$props$counter","id","label","product_id","key1","key2","onIncrement","_this2$props$counter2","onDecrement","disabled","onDelete","Component","Counters","_this$props","onReset","counters","onRestart","map","components_counter","key","App","state","handleIncrement","Object","toConsumableArray","index","indexOf","objectSpread","setState","handleDecrement","handleReset","c","handleDelete","counterId","filter","handleRestart","window","reload","handleNavClick","ev","_ev$target","target","pageTitle","innerHTML","href","baseURI","sender","react_router_dom","to","react_router","element","navbar","components_counters","ReactDOM","document","getElementById","render","react","src_App"],"mappings":"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","file":"static/js/main.dccfcf6e.chunk.js","sourcesContent":["import * as rudderanalytics from \"rudder-sdk-js\";\n\n// const DATAPLANE_URL = \"https://rudderstacocr.dataplane.rudderstack.com\";\n// const WRITE_KEY = \"2Dmwv0Hkb18ldTh6cs4S8zuRKEg\";\nconst DATAPLANE_URL = \"http://ad666c1660a4f4667829f19e12ee0971-959956009.us-east-1.elb.amazonaws.com:80\";\nconst WRITE_KEY = \"24K9h0TQsACl7HsnmehbLgH5Khq\";\n\n\nfunction rudderInitialize() {\n    rudderanalytics.ready(() => {console.log(\"we are all set!!!\")})\n    rudderanalytics.load(WRITE_KEY, DATAPLANE_URL,{logLevel: \"DEBUG\", integrations:{All:true}})\n};\n\nrudderInitialize();\n\nexport function eventIdentify(user) {\n\n    // var rudderanalytics = global.window.rudderanalytics = global.window.rudderanalytics || [];\n    // var analytics = global.window.analytics = global.window.analytics || [];\n    rudderanalytics.identify(user, \n        {\n            name: user,\n            category: \"Identify User\",\n            email: `${user}@gmail.com`,\n            logins: Math.floor(Math.random() * 100)\n        },\n        {\n            page: {\n              path: \"\",\n              referrer: \"\",\n              search: \"\",\n              title: \"\",\n              url: \"\",\n            },\n        },\n        () => {\n            console.log(\"in identify call\");\n          } \n        );\n}\n\nexport function eventPage(name, payload) {\n  rudderanalytics.page(name, payload, () => {\n    console.log(\"Hello Woreknknk\");\n  });\n}\n\nexport function eventTrack(eventName, payload) {\n    console.log(payload);\n    rudderanalytics.track(eventName, payload);\n}\n\n\n\n","import React from \"react\";\nimport {eventIdentify} from '../rudder/eventBuilder';\nconst CHARS = 'abcdefghijklmnopqrstuvwxyz1234567890';\n// Stateless Functional Component\n\nconst generateName = () => {  \n  let string = '';\n  for(var ii=0; ii<15; ii++){\n    string += CHARS[Math.floor(Math.random() * CHARS.length)];\n  }\n  return string;\n}\n\nconst NavBar = ({ totalCounters }) => {\n  return (\n    <nav className=\"navbar navbar-light\">\n      <div className=\"navbar-brand\">\n        <i className=\"fa fa-shopping-cart fa-lg m-2\" aria-hidden=\"true\" />\n        <span\n          className=\"badge badge-pill badge-info m-2\"\n          style={{ width: 50, fontSize: \"24px\" }}\n        >\n          {totalCounters}\n        </span>\n        Items\n        <button\n          className=\"btn btn-secondary\"\n          onClick={() => {\n            const newUser = generateName();\n            console.log(newUser);\n            eventIdentify(newUser);\n          }}\n        >\n          Switch\n        </button>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","export const location =  {};\n\nfunction getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getPosition);\n    } else {\n      return \"Geolocation is not supported by this browser.\";\n    }\n}\n\ngetLocation();\n\nfunction getPosition(position) {\n    location.latitude = position.coords.latitude;\n    location.longitude = position.coords.longitude;\n}\n\n","import React, { Component } from \"react\";\nimport {eventTrack} from '../rudder/eventBuilder.js';\nimport {location} from '../rudder/locationBuilder';\n\nclass Counter extends Component {\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"\">\n            <span style={{ fontSize: 24 }} className={this.getBadgeClasses()}>\n              {this.props.counter.name}\n            </span>\n          </div>\n          <div className=\"\">\n            <span style={{ fontSize: 24 }} className={this.getBadgeClasses()}>\n              {this.formatCount()}\n            </span>\n          </div>\n          <div className=\"\">\n            <button\n              className=\"btn btn-secondary\"\n              onClick={() => {\n                const {id, name, value } = this.props.counter;\n                if (location && location.latitude && location.longitude) {\n                  eventTrack(`${name}_added_to_cart`, {category: name,\n                    label: \"Add\",\n                    product_id: id, \n                    value: value+1,\n                    key1: \"Blah\",\n                    key2: \"Blah Again\",\n                    location: {\n                      latitude: location.latitude,\n                      longitude: location.longitude\n                    }\n                  });\n                } else {\n                  console.log(\"No position\");\n                }\n                \n                this.props.onIncrement(this.props.counter);\n              }}\n            >\n              <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-info m-2\"\n              onClick={() => {\n                const {id, name, value } = this.props.counter;\n                eventTrack(`${name}_removed_from_cart`, {category: name,\n                  label: \"Remove\",\n                  product_id: id, \n                  value: value - 1,\n                });\n                this.props.onDecrement(this.props.counter);\n              }}\n              disabled={this.props.counter.value === 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-minus-circle\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-danger\"\n              onClick={() => this.props.onDelete(this.props.counter.id)}\n            >\n              <i className=\"fa fa-trash-o\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  getBadgeClasses = () => {\n    let classes = \"badge m-2 badge-\";\n    classes += this.props.counter.value === 0 ? \"warning\" : \"primary\";\n    return classes;\n  };\n\n  formatCount = () => {\n    const { value } = this.props.counter;\n    return value;\n  };\n}\n\nexport default Counter;\n","import React, { Component } from \"react\";\nimport Counter from \"./counter\";\n\nclass Counters extends Component {\n  render() {\n    const { onReset, onIncrement, onDelete, onDecrement, counters, onRestart } =\n      this.props;\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=''>\n            <button\n              className=\"btn btn-success m-2\"\n              onClick={onReset}\n              disabled={counters.length === 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n            </button>\n            <button\n              className=\"btn btn-primary m-2\"\n              onClick={onRestart}\n              disabled={counters.length !== 0 ? \"disabled\" : \"\"}\n            >\n              <i className=\"fa fa-recycle\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n        {counters.map((counter) => (\n          <Counter\n            key={counter.id}\n            counter={counter}\n            onIncrement={onIncrement}\n            onDecrement={onDecrement}\n            onDelete={onDelete}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default Counters;\n","import React, { Component } from \"react\";\nimport NavBar from \"./components/navbar\";\nimport Counters from \"./components/counters\";\nimport { Routes, Route, NavLink } from \"react-router-dom\";\nimport {eventPage} from './rudder/eventBuilder';\n\nclass App extends Component {\n  state = {\n    counters: [\n      { id: 1, value: 0, name: \"Book\" },\n      { id: 2, value: 0, name: \"Watch\" },\n      { id: 3, value: 0, name: \"Food\" },\n      { id: 4, value: 0, name: \"Drink\" },\n      { id: 5, value: 0, name: \"Phone\" }\n    ],\n  };\n\n  handleIncrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value++;\n    this.setState({ counters });\n  };\n\n  handleDecrement = (counter) => {\n    const counters = [...this.state.counters];\n    const index = counters.indexOf(counter);\n    counters[index] = { ...counters[index] };\n    counters[index].value--;\n    this.setState({ counters });\n  };\n\n  handleReset = () => {\n    const counters = this.state.counters.map((c) => {\n      c.value = 0;\n      return c;\n    });\n    this.setState({ counters });\n  };\n\n  handleDelete = (counterId) => {\n    const counters = this.state.counters.filter((c) => c.id !== counterId);\n    this.setState({ counters });\n  };\n\n  handleRestart = () => {\n    window.location.reload();\n  };\n\n  handleNavClick = (ev) => {\n    const { innerHTML: pageTitle, href: url, baseURI: referrer } = ev.target\n    eventPage(pageTitle, {url, referrer, sender: \"Ranganath\"});\n  }\n\n  render() {\n    return (\n      <div className=\"main__wrap\">\n        <main className=\"container\">\n          <div>\n            <NavLink to=\"/\" onClick={this.handleNavClick}>Home</NavLink> | \n            <NavLink to=\"about\" onClick={this.handleNavClick}>About</NavLink> |\n            <NavLink to=\"contact\" onClick={this.handleNavClick}>Contact</NavLink>\n          </div>\n          <Routes>\n            <Route path=\"/\" element={\n              <div className=\"card__box\">\n              <NavBar\n                totalCounters={\n                  this.state.counters.filter((c) => c.value > 0).length\n                }\n              />\n              <Counters\n                counters={this.state.counters}\n                onReset={this.handleReset}\n                onIncrement={this.handleIncrement}\n                onDecrement={this.handleDecrement}\n                onDelete={this.handleDelete}\n                onRestart={this.handleRestart}\n              />\n            </div>\n            }> \n            </Route>\n            <Route path=\"about\" element={<h1>This is the about page</h1>}></Route>\n            <Route path=\"contact\" element={<h1>This is the contact page</h1>}></Route>\n          </Routes>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import * as React from \"react\";\nimport * as ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\n\nroot.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>\n);"],"sourceRoot":""}